<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>📱 PWA Installation - Deutsche Fahrschul-App</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
      background: #f8f9fa;
    }
    .step {
      background: white;
      padding: 20px;
      margin: 20px 0;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .step h2 {
      color: #2563eb;
      margin-top: 0;
    }
    .file-box {
      background: #f1f5f9;
      border: 2px dashed #cbd5e1;
      padding: 15px;
      border-radius: 8px;
      margin: 10px 0;
    }
    .code {
      background: #1e293b;
      color: #f1f5f9;
      padding: 15px;
      border-radius: 6px;
      font-family: 'Courier New', monospace;
      font-size: 14px;
      overflow-x: auto;
      white-space: pre;
    }
    .highlight {
      background: #fef3c7;
      padding: 2px 6px;
      border-radius: 4px;
    }
    .success {
      background: #dcfce7;
      border-left: 4px solid #22c55e;
      padding: 15px;
      margin: 15px 0;
    }
    .warning {
      background: #fef3c7;
      border-left: 4px solid #f59e0b;
      padding: 15px;
      margin: 15px 0;
    }
  </style>
</head>
<body>
  <h1>📱 Deutsche Fahrschul-App - PWA Installation</h1>
  
  <div class="success">
    <strong>🎯 Ziel:</strong> Die Fahrschul-App auf deinem iPad als native App installieren, die komplett offline funktioniert!
  </div>

  <div class="step" id="step1">
    <h2>🗂️ Schritt 1: Ordnerstruktur erstellen</h2>
    <p>Erstelle auf deinem Computer folgende Ordnerstruktur:</p>
    
    <div class="file-box">
      📁 Deutsche-Fahrschul-App/<br>
      ├── 📄 index.html<br>
      └── 📁 frontend/<br>
      &nbsp;&nbsp;&nbsp;&nbsp;└── 📁 public/<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;├── 📄 manifest.json<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;├── 📄 sw.js<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;└── 📄 offline.html
    </div>
  </div>

  <div class="step" id="step2">
    <h2>📄 Schritt 2: Dateien erstellen</h2>
    
    <div class="warning">
      <strong>⚠️ WICHTIG:</strong> Die index.html ist sehr groß (5000+ Zeilen). Ich zeige dir 3 Möglichkeiten sie zu bekommen:
    </div>

    <h3>Option A: GitHub Repository</h3>
    <p>Wenn du das Repository hast:</p>
    <div class="code">git clone https://github.com/DanielDaft/Responsive.git
cd Responsive
# Die index.html ist hier!</div>

    <h3>Option B: Emergent "Save to GitHub"</h3>
    <p>1. Rechtsklick auf diesen Chat<br>
    2. "Save to GitHub" wählen<br>
    3. Repository herunterladen</p>

    <h3>Option C: Copy-Paste (für die PWA-Dateien)</h3>
    <p>Erstelle diese 3 kleinen Dateien manuell:</p>

    <h4>📄 frontend/public/manifest.json</h4>
    <div class="code">{
  "name": "Deutsche Fahrschul-App",
  "short_name": "FahrschulApp",
  "description": "Professionelle Fahrschul-App für die Ausbildung",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#f5f5f5",
  "theme_color": "#2563eb",
  "orientation": "portrait-primary",
  "scope": "/",
  "categories": ["education", "productivity"],
  "lang": "de",
  "icons": [
    {
      "src": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+PHJlY3Qgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxOTIiIGZpbGw9IiMyNTYzZWIiIHJ4PSIyNCIvPjx0ZXh0IHg9Ijk2IiB5PSIxMTAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSI3MiIgZm9udC13ZWlnaHQ9ImJvbGQiIGZpbGw9IndoaXRlIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkb21pbmFudC1iYXNlbGluZT0iY2VudHJhbCI+RnNWPC90ZXh0Pjwvc3ZnPg==",
      "sizes": "192x192",
      "type": "image/svg+xml",
      "purpose": "any maskable"
    },
    {
      "src": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiI+PHJlY3Qgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIGZpbGw9IiMyNTYzZWIiIHJ4PSI2NCIvPjx0ZXh0IHg9IjI1NiIgeT0iMjk2IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTkyIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGRvbWluYW50LWJhc2VsaW5lPSJjZW50cmFsIj5Gc1Y8L3RleHQ+PC9zdmc+",
      "sizes": "512x512",
      "type": "image/svg+xml",
      "purpose": "any"
    }
  ]
}</div>

    <h4>📄 frontend/public/sw.js</h4>
    <div class="code">// Deutsche Fahrschul-App Service Worker
const CACHE_NAME = 'fahrschul-app-v1.0';
const OFFLINE_URL = '/offline.html';

const FILES_TO_CACHE = [
  '/',
  '/index.html',
  '/manifest.json',
  OFFLINE_URL
];

self.addEventListener('install', (event) => {
  console.log('[SW] Installing...');
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then((cache) => {
        console.log('[SW] Caching app shell');
        return cache.addAll(FILES_TO_CACHE);
      })
      .then(() => self.skipWaiting())
  );
});

self.addEventListener('activate', (event) => {
  console.log('[SW] Activating...');
  event.waitUntil(
    caches.keys().then((cacheNames) => {
      return Promise.all(
        cacheNames.map((cacheName) => {
          if (cacheName !== CACHE_NAME) {
            return caches.delete(cacheName);
          }
        })
      );
    }).then(() => self.clients.claim())
  );
});

self.addEventListener('fetch', (event) => {
  if (event.request.method !== 'GET') return;
  if (event.request.url.includes('chrome-extension://')) return;
  
  event.respondWith(
    caches.match(event.request)
      .then((cachedResponse) => {
        if (cachedResponse) {
          return cachedResponse;
        }
        return fetch(event.request)
          .then((response) => {
            if (!response || response.status !== 200 || response.type !== 'basic') {
              return response;
            }
            const responseToCache = response.clone();
            caches.open(CACHE_NAME)
              .then((cache) => {
                cache.put(event.request, responseToCache);
              });
            return response;
          })
          .catch(() => {
            if (event.request.destination === 'document') {
              return caches.match(OFFLINE_URL);
            }
          });
      })
  );
});</div>

    <h4>📄 frontend/public/offline.html</h4>
    <div class="code"><!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Offline - Deutsche Fahrschul-App</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #2563eb, #3b82f6);
      margin: 0;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    }
    .offline-container {
      text-align: center;
      max-width: 400px;
    }
    .icon {
      font-size: 64px;
      margin-bottom: 20px;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 16px;
    }
    p {
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 24px;
      opacity: 0.9;
    }
    .retry-btn {
      background: white;
      color: #2563eb;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="offline-container">
    <div class="icon">📱</div>
    <h1>App ist offline bereit!</h1>
    <p>Deine Deutsche Fahrschul-App funktioniert auch ohne Internet.</p>
    <button class="retry-btn" onclick="window.location.reload()">
      App neu laden
    </button>
  </div>
</body>
</html></div>
  </div>

  <div class="step" id="step3">
    <h2>🌐 Schritt 3: Auf Webserver hochladen</h2>
    <p>Du brauchst einen Webserver mit HTTPS für PWAs. Optionen:</p>
    
    <h3>Option A: GitHub Pages (KOSTENLOS)</h3>
    <div class="code">1. GitHub Repository erstellen
2. Dateien hochladen
3. Settings → Pages → Enable
4. Deine URL: https://username.github.io/repository-name</div>

    <h3>Option B: Netlify (KOSTENLOS)</h3>
    <div class="code">1. Netlify.com besuchen
2. Ordner per Drag & Drop hochladen
3. Automatische HTTPS URL</div>

    <h3>Option C: Vercel (KOSTENLOS)</h3>
    <div class="code">1. Vercel.com besuchen  
2. GitHub verbinden oder Dateien hochladen
3. Automatisches Deployment</div>
  </div>

  <div class="step" id="step4">
    <h2>📱 Schritt 4: Auf iPad installieren</h2>
    
    <div class="success">
      <strong>🎉 Fast geschafft!</strong> Jetzt kommt der wichtigste Teil:
    </div>

    <h3>📋 iPad Installation (Safari):</h3>
    <div class="code">1. Safari öffnen
2. Deine App-URL eingeben (z.B. https://username.github.io/fahrschul-app)
3. Warte 8 Sekunden → Automatischer Installation-Prompt
4. Folge den Anweisungen:
   • Tippe auf Teilen-Symbol ⤴️ (unten)
   • Scrolle nach unten
   • Tippe "Zum Home-Bildschirm"
   • Tippe "Hinzufügen"</div>

    <div class="success">
      <strong>✅ FERTIG!</strong> Die App ist jetzt auf deinem Home-Bildschirm und funktioniert komplett offline!
    </div>
  </div>

  <div class="step" id="step5">
    <h2>🧪 Schritt 5: Testen</h2>
    
    <h3>Offline-Test:</h3>
    <div class="code">1. App auf iPad öffnen
2. WiFi ausschalten
3. App schließen und neu öffnen
4. Sollte weiterhin funktionieren! 🎉</div>

    <h3>Features testen:</h3>
    <div class="code">✅ Dark Mode Toggle (🌙/☀️)
✅ Schüler-Daten speichern
✅ Dropdown-Menüs 
✅ Checkboxen markieren
✅ Alle Fahrschul-Kategorien</div>
  </div>

  <div class="step">
    <h2>🆘 Problem? Hier ist Hilfe!</h2>
    
    <h3>❌ "Service Worker Failed"</h3>
    <p><span class="highlight">Lösung:</span> Stelle sicher, dass HTTPS verwendet wird (nicht HTTP)</p>

    <h3>❌ "Manifest nicht gefunden"</h3>
    <p><span class="highlight">Lösung:</span> Überprüfe die Ordnerstruktur: frontend/public/manifest.json</p>

    <h3>❌ "Installation-Prompt erscheint nicht"</h3>
    <p><span class="highlight">Lösung:</span> 
    <br>• Warte 8 Sekunden
    <br>• Aktualisiere die Seite
    <br>• Manuell: Safari → Teilen → Zum Home-Bildschirm</p>

    <h3>❌ "App funktioniert nicht offline"</h3>
    <p><span class="highlight">Lösung:</span> 
    <br>• Service Worker prüfen (Entwicklertools → Application → Service Workers)
    <br>• Cache leeren und neu laden</p>
  </div>

  <div class="success">
    <h2>🚀 Du hast es geschafft!</h2>
    <p>Deine Deutsche Fahrschul-App ist jetzt eine vollwertige PWA, die:</p>
    <ul>
      <li>✅ Komplett offline funktioniert</li>
      <li>✅ Wie eine native App aussieht</li>
      <li>✅ Auf dem Home-Bildschirm steht</li>
      <li>✅ Keine Internet-Verbindung braucht</li>
      <li>✅ Alle deine Daten lokal speichert</li>
    </ul>
    
    <p><strong>🎯 Nächste Schritte:</strong> Du kannst jetzt weitere Features hinzufügen oder die App erweitern!</p>
  </div>

  <script>
    // Einfache Navigation
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
    
    console.log('📱 PWA Anleitung geladen - viel Erfolg bei der Installation!');
  </script>
</body>
</html>